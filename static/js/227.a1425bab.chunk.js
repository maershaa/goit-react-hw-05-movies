"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[227],{227:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(861),s=n(439),a=n(757),c=n.n(a),i=n(791),o=n(243),u=function(){var e=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("".concat("https://api.themoviedb.org/3/","trending/all/week?api_key=").concat("c23a5d8272617f6f7021ba4c498464ff"));case 3:return t=e.sent,console.log("response in api",t),e.abrupt("return",t.data);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),l=u,p=n(184),f=function(e){var t=e.id,n=e.poster_path,r=e.title,s=e.onClick;return(0,p.jsxs)("li",{className:"movieItem",onClick:function(){s&&s(t)},children:[(0,p.jsx)("h3",{children:r}),(0,p.jsx)("img",{src:"https://image.tmdb.org/t/p/original".concat(n),alt:r})]})},h=function(e){var t=e.movies,n=e.onClick;return(0,p.jsx)("ul",{className:"moviesList",children:t.map((function(e){return(0,p.jsx)(f,{id:e.id,poster_path:e.poster_path,title:e.title,onClick:n},e.id)}))})},d=n(891),m=function(){var e=(0,i.useState)(!1),t=(0,s.Z)(e,2),n=t[0],a=t[1],o=(0,i.useState)(null),u=(0,s.Z)(o,2),f=u[0],m=u[1],v=(0,i.useState)(null),k=(0,s.Z)(v,2),x=k[0],g=k[1],j=function(){var e=(0,r.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),m(null),e.next=5,l();case 5:t=e.sent,n=t.results,g(n),m(null),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),m(e.t0.message),g(null);case 15:return e.prev=15,a(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,11,15,18]])})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){j()}),[]);return(0,p.jsxs)("div",{children:[null!==f&&(0,p.jsxs)("p",{className:"errorBadge",children:["Oops, some error occurred... Error message: ",f]}),n&&(0,p.jsx)(d.Z,{}),(0,p.jsx)("h2",{className:"pageTitle",children:" Trending today "}),(0,p.jsx)(h,{movies:x,onClick:function(e){}})]})}}}]);
//# sourceMappingURL=227.a1425bab.chunk.js.map